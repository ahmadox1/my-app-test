# تطبيق الطاهي الذكي (AI Recipe Chef)

تطبيق Flutter بواجهة عربية يساعدك على اقتراح وصفات صحية أو دسمة أو عادية بناءً على المكونات والبيانات الصحية الخاصة بك. يعتمد التطبيق على نموذج ذكاء اصطناعي مفتوح المصدر من منصة [Hugging Face](https://huggingface.co/models)، ويمكنك تشغيله باستخدام مفتاح واجهة برمجة التطبيقات الخاص بك.

## المزايا الرئيسية

- 🧠 **ذكاء اصطناعي مفتوح المصدر**: يستخدم التطبيق نموذج `Qwen/Qwen2.5-0.5B-Instruct` كخيار افتراضي، ويمكن استبداله بأي نموذج محادثة مجاني آخر على Hugging Face.
- 🍲 **اقتراح وصفات دقيقة**: تحليل المكونات، تحديد نوع الوجبة (عادية، صحية، دسمة) وإرجاع وصفات مفصلة.
- 🏃 **حساب السعرات الحرارية**: إدخال الوزن والطول والعمر والهدف الغذائي لحساب الاحتياج التقريبي للسعرات.
- 🎨 **واجهة مطابقة للتصميم المرفق**: ألوان وخطوط وتفاعلات مشابهة للصور المرسلة.
- 🌐 **واجهة عربية بالكامل** مع دعم الاتجاه من اليمين لليسار.

## المتطلبات

- [Flutter 3.22.0](https://docs.flutter.dev/get-started/install) أو أحدث
- حساب على منصة Hugging Face مع مفتاح API مجاني (يمكن الحصول عليه من [الصفحة الشخصية](https://huggingface.co/settings/tokens)).

## الإعداد السريع

```bash
flutter pub get
flutter run --dart-define=HF_API_TOKEN=hf_your_token_here
```

> **ملاحظة:** إذا لم تقم بتمرير `HF_API_TOKEN` فسيقوم التطبيق بالعمل في وضع المعاينة ويعرض وصفة تجريبية بدون استدعاء الشبكة.

## بناء APK لنظام Android

لبناء ملف APK للتطبيق، استخدم الأمر التالي:

```bash
flutter build apk --release --dart-define=HF_API_TOKEN=hf_your_token_here
```

سيتم إنشاء ملف APK في المسار:
```
build/app/outputs/flutter-apk/app-release.apk
```

### بناء APK بدون مفتاح API (وضع التجريبي)

إذا أردت بناء APK بدون تضمين مفتاح API (سيستخدم الوصفات التجريبية فقط):

```bash
flutter build apk --release
```

### التحقق من استخدام نموذج الذكاء الاصطناعي

التطبيق **يستخدم نموذج ذكاء اصطناعي حقيقي ومجاني** من Hugging Face وليس محادثات مسجلة مسبقاً:

- **النموذج المستخدم:** `Qwen/Qwen2.5-0.5B-Instruct` 
- **المنصة:** [Hugging Face Inference API](https://huggingface.co/docs/api-inference/index)
- **كل طلب يتم إرساله مباشرة** إلى API نموذج الذكاء الاصطناعي مع معلومات المستخدم (المكونات، نوع الوجبة، البيانات الصحية)
- الوصفة الاحتياطية (`_fallbackRecipe`) **تستخدم فقط** في حالتين:
  1. عدم تمرير مفتاح `HF_API_TOKEN`
  2. فشل طلب API للنموذج

يمكنك التحقق من الكود في ملف `lib/src/features/recipe/services/recipe_ai_service.dart` (السطور 22-56).

## بنية المشروع

```
lib/
└── src/
    └── features/
        └── recipe/
            ├── models/
            ├── services/
            ├── views/
            └── widgets/
```

- **models**: الكيانات ونماذج البيانات.
- **services**: طبقة الاتصال مع نموذج الذكاء الاصطناعي وحساب السعرات.
- **views**: الشاشات الأساسية للتطبيق.
- **widgets**: مكونات الواجهة المعاد استخدامها.

## تغيير النموذج الذكي

يمكنك تعديل اسم النموذج الافتراضي أو معلمات التوليد من خلال تحديث الثوابت في الملف `lib/src/features/recipe/services/recipe_ai_service.dart`.

## الاختبارات

يتضمن المشروع اختبار وحدة واحد للتأكد من صحة حساب السعرات الحرارية. شغّل الاختبارات عبر:

```bash
flutter test
```


## لقطات الواجهة

![الشاشة الرئيسية](screen_main.png)

> يمكنك إنشاء لقطة للشاشة بعد تشغيل التطبيق بواسطة `flutter run` ثم استعمال `flutter screenshot`.

## الترخيص

هذا المشروع متاح تحت رخصة MIT، ويمكنك التعديل والاستخدام بحرية مع ذكر المصدر.

---

## المستندات الإضافية

- [AI_VERIFICATION.md](AI_VERIFICATION.md) - وثيقة شاملة للتحقق من استخدام نموذج الذكاء الاصطناعي
- [BUILD_INSTRUCTIONS.md](BUILD_INSTRUCTIONS.md) - تعليمات مفصلة لبناء APK واختبار التطبيق
